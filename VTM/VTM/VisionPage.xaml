    <Page
    x:Class="VTM.VisionPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cc="clr-namespace:Camera;assembly=Camera"
    xmlns:ctr="clr-namespace:HVT.Controls;assembly=HVT.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:VTM"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"

    Title="VisionPage"
    d:Height="1000"
    d:Width="1800"
    mc:Ignorable="d">
    <Page.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/CSS/FlatStyle.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <TransformGroup x:Key="sharedTransform">
                <ScaleTransform x:Name="scaleTransform" ScaleX="1.0" ScaleY="1.0" />
                <TranslateTransform x:Name="translateTransform" X="0" Y="0" />
            </TransformGroup>
        </ResourceDictionary>
    </Page.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition />
        </Grid.RowDefinitions>

        <Border
            Grid.Row="0"
            Grid.Column="0"
            Margin="5,5,-2,5"
            HorizontalAlignment="Left"
            VerticalAlignment="Stretch"
            Background="#f6f6f6"
            CornerRadius="0,0,0,0">
            <Grid Margin="3,3,3,3">
                <Grid.RowDefinitions>
                    <RowDefinition Height="1*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Label
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Content="CAMERA VIEWER"
                    FontSize="12"
                    FontWeight="Bold"
                    Foreground="Black" />
                <Button
                    Width="100"
                    Height="30"
                    Margin="0, 0, 300, 0"
                     Background="#c6c6c6"  BorderBrush="LightGray"
                    Foreground="Black"
                     Template="{StaticResource ButtonControlNonHoverBackground}"
                    Click="Button_Click"
                    Content="Reset Zoom" />
                <ToggleButton
                    x:Name="tgbSwitchCalib"
                    Width="100"
                    Height="30"
                    Margin="0,0,300,0"
                    HorizontalAlignment="Right"
                    VerticalContentAlignment="Center"
                    Foreground="Black"
                    Template="{StaticResource ToggleButtonSwitchContent}">
                    <ToggleButton.Style>
                        <Style TargetType="ToggleButton">
                            <Style.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter Property="Content" Value="Funtions" />
                                </Trigger>
                                <Trigger Property="IsChecked" Value="False">
                                    <Setter Property="Content" Value="Grid" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ToggleButton.Style>
                </ToggleButton>
                <StackPanel
                    Margin="5"
                    HorizontalAlignment="Right"
                    Orientation="Horizontal">
                    <ToggleButton
                        x:Name="tgbSelectA"
                        Margin="50,0,0,0"
                        HorizontalAlignment="Right"
                        VerticalContentAlignment="Center"
                        Click="BoardSelect_Click"
                        Content="A"
                        Foreground="Black"
                        IsChecked="True"
                        Template="{StaticResource ToggleButtonVertical}" />
                    <ToggleButton
                        x:Name="tgbSelectB"
                        Margin="0,0,0,0"
                        HorizontalAlignment="Right"
                        VerticalContentAlignment="Center"
                        Click="BoardSelect_Click"
                        Content="B"
                        Foreground="Black"
                        Template="{StaticResource ToggleButtonVertical}" />
                    <ToggleButton
                        x:Name="tgbSelectC"
                        Margin="0,0,0,0"
                        HorizontalAlignment="Right"
                        VerticalContentAlignment="Center"
                        Click="BoardSelect_Click"
                        Content="C"
                        Foreground="Black"
                        Template="{StaticResource ToggleButtonVertical}" />
                    <ToggleButton
                        x:Name="tgbSelectD"
                        Margin="0,0,0,0"
                        HorizontalAlignment="Right"
                        VerticalContentAlignment="Center"
                        Click="BoardSelect_Click"
                        Content="D"
                        Foreground="Black"
                        Template="{StaticResource ToggleButtonVertical}" />
                </StackPanel>

                <Canvas
                    x:Name="mainCanvas"
                    Grid.Row="1"
                    ClipToBounds="True"
                    Width="774"
                    Height="435.375"
                    MouseWheel="Canvas_MouseWheel">
                    <Image
                        x:Name="cameraViewer"
                        Width="774"
                        Height="435.375"
                        Margin="5"
                        RenderTransform="{StaticResource sharedTransform}"
                        Source="{Binding LastFrame, UpdateSourceTrigger=PropertyChanged}" />

                    <cc:VisionBuilder
                        x:Name="VisionBuider"
                        Width="774"
                        Height="435.375"
                        Margin="5"
                        RenderTransform="{StaticResource sharedTransform}">
                        <cc:VisionBuilder.Style>
                            <Style TargetType="cc:VisionBuilder">

                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=tgbSwitchCalib, Path=IsChecked}" Value="True">
                                        <Setter Property="Visibility" Value="Hidden" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ElementName=tgbSwitchCalib, Path=IsChecked}" Value="False">
                                        <Setter Property="Visibility" Value="Visible" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </cc:VisionBuilder.Style>
                    </cc:VisionBuilder>
                </Canvas>

                <Grid Grid.Row="1">
                    <Grid.Style>
                        <Style TargetType="Grid">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ElementName=tgbSwitchCalib, Path=IsChecked}" Value="False">
                                    <Setter Property="Visibility" Value="Hidden" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding ElementName=tgbSwitchCalib, Path=IsChecked}" Value="True">
                                    <Setter Property="Visibility" Value="Visible" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>
                    <Ellipse
                        Width="200"
                        Height="200"
                        Stroke="Yellow" />
                    <Border
                        Width="1"
                        HorizontalAlignment="Center"
                        Background="Yellow" />
                    <Border
                        Height="1"
                        VerticalAlignment="Center"
                        Background="Yellow" />
                </Grid>

                <cc:CameraSettingPanel
                    x:Name="cameraSetting"
                    Grid.Row="1"
                    AllowControl="False" />
            </Grid>
        </Border>

        <TabControl
            Grid.Column="1"
            Margin="0,3,5,5"
            VerticalContentAlignment="Center"
            Background="#f6f6f6"
            BorderThickness="0">
            <TabItem
                Width="100"
                Height="40"
                Margin="0"
                Foreground="Black"
                Header="LCDs/FNDs"
                Style="{StaticResource FlatTabControl}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Border
                        x:Name="componentOptionHolder"
                        Grid.Row="0"
                        Grid.Column="0"
                        Margin="5"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Stretch"
                        Background="#f6f6f6"
                        CornerRadius="0" />
                    <Border
                        Grid.Row="0"
                        Grid.Column="1"
                        Margin="5"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        Background="#f6f6f6"
                        CornerRadius="0">
                        <cc:FND_SegementBuilder x:Name="FND_lookupTable" VerticalAlignment="Stretch" />
                    </Border>
                </Grid>
            </TabItem>

            <TabItem
                Width="150"
                Height="40"
                Margin="0"
                Foreground="Black"
                Header="FND Segments"
                Style="{StaticResource FlatTabControl}">

                <Grid Margin="3,3,3,10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="1*" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150" />
                        <ColumnDefinition Width="48*" />
                        <ColumnDefinition Width="155*" />
                    </Grid.ColumnDefinitions>

                    <Label
                        x:Name="FNDSegmentsLabel"
                        Grid.Row="0"
                        Grid.ColumnSpan="3"
                        VerticalAlignment="Top"
                        Content="FND Segments"
                        FontSize="12"
                        FontWeight="Bold"
                        Foreground="Black" />
                    <TabControl
                        Grid.Row="1"
                        Grid.Column="1"
                        Grid.ColumnSpan="2"
                        Margin="0,3,5,5"
                        VerticalContentAlignment="Center"
                        Background="#11ffffff"
                        BorderThickness="0">
                        <TabItem
                            Width="80"
                            Height="28"
                            Margin="0"
                            Foreground="Black"
                            Style="{StaticResource SubFlatTabControl}">

                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        Text="FND1" />
                                </StackPanel>
                            </TabItem.Header>

                            <DataGrid
                                x:Name="DataGrid_FND_0"
                                Grid.Row="2"
                                Grid.Column="1"
                                Grid.ColumnSpan="2"
                                Margin="5,5,5,0"
                                VerticalAlignment="Top"
                                AutoGenerateColumns="False"
                                CanUserAddRows="False"
                                ColumnHeaderHeight="30"
                                ColumnHeaderStyle="{StaticResource FlatDataGridHeaderNomal}"
                                GridLinesVisibility="All"
                                HeadersVisibility="Column"
                                HorizontalScrollBarVisibility="Hidden"
                                IsEnabled="true"
                                RowHeight="18"
                                SelectedCellsChanged="FNDSegmentsData_SelectedCellsChanged"
                                SelectionMode="Single"
                                SelectionUnit="Cell"
                                Style="{StaticResource FlatDataGrid}">

                                <DataGrid.Resources>
                                    <Style
                                        x:Key="LEDcell"
                                        BasedOn="{StaticResource FlatDataGridCell}"
                                        TargetType="DataGridCell">
                                        <Setter Property="Background" Value="White" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Use}" Value="False">
                                                <Setter Property="Background" Value="#e6e6e6" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                  
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn
                                        Width="60"
                                        Binding="{Binding Path=Index}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Index"
                                        IsReadOnly="True" />

                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=X}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="X" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Y}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Y" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Dir}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Dir" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=ON}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="On" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=OFF}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="OFF" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Thresh}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Thresh" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Intens}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Intens"
                                        IsReadOnly="True" />
                                    <DataGridTemplateColumn Width="1*"  CellStyle="{StaticResource LEDcell}">
                                        <DataGridTemplateColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <TextBlock Margin="10,0,20,0 " Text="Use" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                    <CheckBox x:Name="HeaderCheckBox" Content="" Checked="FND_Use_HeaderCheckBox_Checked"  Unchecked="FND_Use_HeaderCheckBox_Unchecked" BorderBrush="Black"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.HeaderTemplate>
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <CheckBox 
                                                        
                                                        IsChecked="{Binding Path=Use, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                        Checked="CheckBox_Checked"
                                                        Unchecked="CheckBox_Unchecked" BorderBrush="#b6b6b6" />
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </TabItem>
                        <TabItem
                            Width="80"
                            Height="28"
                            Margin="0"
                            Foreground="Black"
                            Style="{StaticResource SubFlatTabControl}">
                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        Text="FND2" />
                                </StackPanel>
                            </TabItem.Header>

                            <DataGrid
                                x:Name="DataGrid_FND_1"
                                Grid.Row="2"
                                Grid.Column="1"
                                Grid.ColumnSpan="2"
                                Margin="5,5,5,0"
                                VerticalAlignment="Top"
                                AutoGenerateColumns="False"
                                CanUserAddRows="False"
                                ColumnHeaderHeight="30"
                                ColumnHeaderStyle="{StaticResource FlatDataGridHeaderNomal}"
                                GridLinesVisibility="All"
                                HeadersVisibility="Column"
                                HorizontalScrollBarVisibility="Hidden"
                                IsEnabled="true"
                                RowHeight="18"
                                SelectedCellsChanged="FNDSegmentsData_SelectedCellsChanged"     
                                SelectionMode="Single"
                                SelectionUnit="Cell"
                                Style="{StaticResource FlatDataGrid}">

                                <DataGrid.Resources>
                                    <Style
                                        x:Key="LEDcell"
                                        BasedOn="{StaticResource FlatDataGridCell}"
                                        TargetType="DataGridCell">
                                        <Setter Property="Background" Value="White" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Use}" Value="False">
                                                <Setter Property="Background" Value="#e6e6e6" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>                                  
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn
                                        Width="60"
                                        Binding="{Binding Path=Index}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Index"
                                        IsReadOnly="True" />

                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=X}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="X" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Y}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Y" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Dir}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Dir" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=ON}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="On" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=OFF}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="OFF" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Thresh}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Thresh" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Intens}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Intens"
                                        IsReadOnly="True" />
                                    <DataGridTemplateColumn Width="1*"  CellStyle="{StaticResource LEDcell}">
                                        <DataGridTemplateColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <TextBlock Margin="10,0,20,0 " Text="Use" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                    <CheckBox x:Name="HeaderCheckBox" Content="" Checked="FND_Use_HeaderCheckBox_Checked"  Unchecked="FND_Use_HeaderCheckBox_Unchecked" BorderBrush="Black"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.HeaderTemplate>
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <CheckBox IsChecked="{Binding Path=Use, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
Checked="CheckBox_Checked"
Unchecked="CheckBox_Unchecked" BorderBrush="#b6b6b6"/>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </TabItem>
                        <TabItem
                            Width="80"
                            Height="28"
                            Margin="0"
                            Foreground="Black"
                            Style="{StaticResource SubFlatTabControl}">
                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        Text="FND3" />
                                </StackPanel>
                            </TabItem.Header>

                            <DataGrid
                                x:Name="DataGrid_FND_2"
                                Grid.Row="2"
                                Grid.Column="1"
                                Grid.ColumnSpan="2"
                                Margin="5,5,5,0"
                                VerticalAlignment="Top"
                                AutoGenerateColumns="False"
                                CanUserAddRows="False"
                                ColumnHeaderHeight="30"
                                ColumnHeaderStyle="{StaticResource FlatDataGridHeaderNomal}"
                                GridLinesVisibility="All"
                                HeadersVisibility="Column"
                                HorizontalScrollBarVisibility="Hidden"
                                IsEnabled="true"
                                RowHeight="18"
                                SelectedCellsChanged="FNDSegmentsData_SelectedCellsChanged"          
                                SelectionMode="Single"
                                SelectionUnit="Cell"
                                Style="{StaticResource FlatDataGrid}">

                                <DataGrid.Resources>
                                    <Style
                                        x:Key="LEDcell"
                                        BasedOn="{StaticResource FlatDataGridCell}"
                                        TargetType="DataGridCell">
                                        <Setter Property="Background" Value="White" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Use}" Value="False">
                                                <Setter Property="Background" Value="#e6e6e6" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>                                   
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn
                                        Width="60"
                                        Binding="{Binding Path=Index}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Index"
                                        IsReadOnly="True" />

                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=X}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="X" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Y}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Y" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Dir}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Dir" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=ON}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="On" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=OFF}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="OFF" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Thresh}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Thresh" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Intens}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Intens"
                                        IsReadOnly="True" />
                                    <DataGridTemplateColumn Width="1*"  CellStyle="{StaticResource LEDcell}">
                                        <DataGridTemplateColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <TextBlock Margin="10,0,20,0 " Text="Use" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                    <CheckBox x:Name="HeaderCheckBox" Content="" Checked="FND_Use_HeaderCheckBox_Checked"  Unchecked="FND_Use_HeaderCheckBox_Unchecked" BorderBrush="Black"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.HeaderTemplate>
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <CheckBox IsChecked="{Binding Path=Use, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Checked="CheckBox_Checked" Unchecked="CheckBox_Unchecked" BorderBrush="#b6b6b6" />
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </TabItem>
                        <TabItem
                            Width="80"
                            Height="28"
                            Margin="0"
                            Foreground="Black"
                            Style="{StaticResource SubFlatTabControl}">
                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        Text="FND4" />
                                </StackPanel>
                            </TabItem.Header>

                            <DataGrid
                                x:Name="DataGrid_FND_3"
                                Grid.Row="2"
                                Grid.Column="1"
                                Grid.ColumnSpan="2"
                                Margin="5,5,5,0"
                                VerticalAlignment="Top"
                                AutoGenerateColumns="False"
                                CanUserAddRows="False"
                                ColumnHeaderHeight="30"
                                ColumnHeaderStyle="{StaticResource FlatDataGridHeaderNomal}"
                                GridLinesVisibility="All"
                                HeadersVisibility="Column"
                                HorizontalScrollBarVisibility="Hidden"
                                IsEnabled="true"
                                RowHeight="18"
                                SelectedCellsChanged="FNDSegmentsData_SelectedCellsChanged"                                
                                SelectionMode="Single"
                                SelectionUnit="Cell"
                                Style="{StaticResource FlatDataGrid}">

                                <DataGrid.Resources>
                                    <Style
                                        x:Key="LEDcell"
                                        BasedOn="{StaticResource FlatDataGridCell}"
                                        TargetType="DataGridCell">
                                        <Setter Property="Background" Value="White" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Use}" Value="False">
                                                <Setter Property="Background" Value="#e6e6e6" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>                                 
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn
                                        Width="60"
                                        Binding="{Binding Path=Index}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Index"
                                        IsReadOnly="True" />

                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=X}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="X" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Y}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Y" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Dir}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Dir" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=ON}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="On" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=OFF}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="OFF" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Thresh}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Thresh" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Intens}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Intens"
                                        IsReadOnly="True" />
              
                                    <DataGridTemplateColumn Width="1*"  CellStyle="{StaticResource LEDcell}">
                                        <DataGridTemplateColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <TextBlock Margin="10,0,20,0 " Text="Use" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                    <CheckBox x:Name="HeaderCheckBox" Content="" Checked="FND_Use_HeaderCheckBox_Checked"  Unchecked="FND_Use_HeaderCheckBox_Unchecked" BorderBrush="Black"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.HeaderTemplate>
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <CheckBox IsChecked="{Binding Path=Use, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
Checked="CheckBox_Checked"
Unchecked="CheckBox_Unchecked" BorderBrush="#b6b6b6"/>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </TabItem>
                        <TabItem
                            Width="80"
                            Height="28"
                            Margin="0"
                            Foreground="Black"
                            Style="{StaticResource SubFlatTabControl}">
                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        Text="FND5" />
                                </StackPanel>
                            </TabItem.Header>
                            <DataGrid
                                x:Name="DataGrid_FND_4"
                                Grid.Row="2"
                                Grid.Column="1"
                                Grid.ColumnSpan="2"
                                Margin="5,5,5,0"
                                VerticalAlignment="Top"
                                AutoGenerateColumns="False"
                                CanUserAddRows="False"
                                ColumnHeaderHeight="30"
                                ColumnHeaderStyle="{StaticResource FlatDataGridHeaderNomal}"
                                GridLinesVisibility="All"
                                HeadersVisibility="Column"
                                HorizontalScrollBarVisibility="Hidden"
                                IsEnabled="true"
                                RowHeight="18"
                                SelectedCellsChanged="FNDSegmentsData_SelectedCellsChanged"
                                SelectionMode="Single"
                                SelectionUnit="Cell"
                                Style="{StaticResource FlatDataGrid}">
                                <DataGrid.Resources>
                                    <Style
                                        x:Key="LEDcell"
                                        BasedOn="{StaticResource FlatDataGridCell}"
                                        TargetType="DataGridCell">
                                        <Setter Property="Background" Value="White" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Use}" Value="False">
                                                <Setter Property="Background" Value="#e6e6e6" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>                               
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn
                                        Width="60"
                                        Binding="{Binding Path=Index}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Index"
                                        IsReadOnly="True" />

                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=X}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="X" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Y}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Y" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Dir}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Dir" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=ON}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="On" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=OFF}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="OFF" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Thresh}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Thresh" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Intens}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Intens"
                                        IsReadOnly="True" />
                                    <DataGridTemplateColumn Width="1*"  CellStyle="{StaticResource LEDcell}">

                                        <DataGridTemplateColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <TextBlock Margin="10,0,20,0 " Text="Use" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                    <CheckBox x:Name="HeaderCheckBox" Content="" Checked="FND_Use_HeaderCheckBox_Checked"  Unchecked="FND_Use_HeaderCheckBox_Unchecked" BorderBrush="Black"/>                                               
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.HeaderTemplate>
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <CheckBox IsChecked="{Binding Path=Use, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                  Checked="CheckBox_Checked"
                                  Unchecked="CheckBox_Unchecked" BorderBrush="#b6b6b6"/>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>

                                </DataGrid.Columns>
                            </DataGrid>
                        </TabItem>
                        <TabItem
                            Width="80"
                            Height="28"
                            Margin="0"
                            Foreground="Black"
                            Style="{StaticResource SubFlatTabControl}">
                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        Text="FND6" />
                                </StackPanel>
                            </TabItem.Header>
                            <DataGrid
                                x:Name="DataGrid_FND_5"
                                Grid.Row="2"
                                Grid.Column="1"
                                Grid.ColumnSpan="2"
                                Margin="5,5,5,0"
                                VerticalAlignment="Top"
                                AutoGenerateColumns="False"
                                CanUserAddRows="False"
                                ColumnHeaderHeight="30"
                                ColumnHeaderStyle="{StaticResource FlatDataGridHeaderNomal}"
                                GridLinesVisibility="All"
                                HeadersVisibility="Column"
                                HorizontalScrollBarVisibility="Hidden"
                                IsEnabled="true"
                                RowHeight="18"
                                SelectedCellsChanged="FNDSegmentsData_SelectedCellsChanged"
                                SelectionMode="Single"
                                SelectionUnit="Cell"
                                Style="{StaticResource FlatDataGrid}">
                                <DataGrid.Resources>
                                    <Style
                                        x:Key="LEDcell"
                                        BasedOn="{StaticResource FlatDataGridCell}"
                                        TargetType="DataGridCell">
                                        <Setter Property="Background" Value="White" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Use}" Value="False">
                                                <Setter Property="Background" Value="#e6e6e6" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>                                 
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn
                                        Width="60"
                                        Binding="{Binding Path=Index}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Index"
                                        IsReadOnly="True" />

                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=X}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="X" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Y}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Y" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Dir}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Dir" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=ON}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="On" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=OFF}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="OFF" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Thresh}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Thresh" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Intens}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Intens"
                                        IsReadOnly="True" />
                                    <DataGridTemplateColumn Width="1*"  CellStyle="{StaticResource LEDcell}">

                                        <DataGridTemplateColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <TextBlock Margin="10,0,20,0 " Text="Use" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                    <CheckBox x:Name="HeaderCheckBox" Content="" Checked="FND_Use_HeaderCheckBox_Checked"  Unchecked="FND_Use_HeaderCheckBox_Unchecked" BorderBrush="Black"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.HeaderTemplate>
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <CheckBox IsChecked="{Binding Path=Use, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
Checked="CheckBox_Checked"
Unchecked="CheckBox_Unchecked" BorderBrush="#b6b6b6"/>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </TabItem>
                        <TabItem
                            Width="80"
                            Height="28"
                            Margin="0"
                            Foreground="Black"
                            Style="{StaticResource SubFlatTabControl}">
                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        Margin="0,0,5,0"
                                        VerticalAlignment="Center"
                                        Text="FND7" />
                                </StackPanel>
                            </TabItem.Header>
                            <DataGrid
                                x:Name="DataGrid_FND_6"
                                Grid.Row="2"
                                Grid.Column="1"
                                Grid.ColumnSpan="2"
                                Margin="5,5,5,0"
                                VerticalAlignment="Top"
                                AutoGenerateColumns="False"
                                CanUserAddRows="False"
                                ColumnHeaderHeight="30"
                                ColumnHeaderStyle="{StaticResource FlatDataGridHeaderNomal}"
                                GridLinesVisibility="All"
                                HeadersVisibility="Column"
                                HorizontalScrollBarVisibility="Hidden"
                                IsEnabled="true"
                                RowHeight="18"
                                SelectedCellsChanged="FNDSegmentsData_SelectedCellsChanged"
                                SelectionMode="Single"
                                SelectionUnit="Cell"
                                Style="{StaticResource FlatDataGrid}">
                                <DataGrid.Resources>
                                    <Style
                                        x:Key="LEDcell"
                                        BasedOn="{StaticResource FlatDataGridCell}"
                                        TargetType="DataGridCell">
                                        <Setter Property="Background" Value="White" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Use}" Value="False">
                                                <Setter Property="Background" Value="#e6e6e6" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>                                
                                </DataGrid.Resources>
                                <DataGrid.Columns>
                                    <DataGridTextColumn
                                        Width="60"
                                        Binding="{Binding Path=Index}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Index"
                                        IsReadOnly="True" />

                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=X}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="X" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Y}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Y" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Dir}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Dir" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=ON}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="On" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=OFF}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="OFF" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Thresh}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Thresh" />
                                    <DataGridTextColumn
                                        Width="1*"
                                        Binding="{Binding Path=Intens}"
                                        CellStyle="{StaticResource LEDcell}"
                                        Header="Intens"
                                        IsReadOnly="True" />
                                    <DataGridTemplateColumn Width="1*"  CellStyle="{StaticResource LEDcell}">

                                        <DataGridTemplateColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <TextBlock Margin="10,0,20,0 " Text="Use" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                    <CheckBox x:Name="HeaderCheckBox" Content="" Checked="FND_Use_HeaderCheckBox_Checked"  Unchecked="FND_Use_HeaderCheckBox_Unchecked" BorderBrush="Black"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.HeaderTemplate>
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <CheckBox IsChecked="{Binding Path=Use, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
Checked="CheckBox_Checked"
Unchecked="CheckBox_Unchecked" BorderBrush="#b6b6b6"/>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </TabItem>
                    </TabControl>
                    <StackPanel Grid.Row="1" Margin="5,5,5,5">
                        <Label
                            x:Name="lbMatrixPointValue"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content=""
                            FontWeight="Bold"
                            Foreground="Black" />
                        <Button
                            x:Name="btGetMatrixValue"
                            Click="btGetFNDSegmentValue_Click"
                            Content="GetValue" />
                        <Button
                            x:Name="btMatrixPointThresholdCalculate"
                            Click="btFNDSegmentThresholdCalculate_Click"
                            Content="Threshold Calculate" />
                    </StackPanel>
                </Grid>
            </TabItem>
            <TabItem
                Width="100"
                Height="40"
                Margin="0"
                Foreground="Black"
                Header="LEDs"
                Style="{StaticResource FlatTabControl}">
                <Grid Margin="3,3,3,10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="1*" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="180" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Label
                        Grid.Row="0"
                        Grid.ColumnSpan="2"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Top"
                        Content="LEDs Data"
                        FontSize="12"
                        FontWeight="Bold"
                        Foreground="Black" />
                    <DataGrid
                        x:Name="LEDsData"
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="5"
                        VerticalAlignment="Top"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        ColumnHeaderHeight="30"
                        ColumnHeaderStyle="{StaticResource FlatDataGridHeaderNomal}"
                        GridLinesVisibility="All"
                        HeadersVisibility="Column"
                        HorizontalScrollBarVisibility="Hidden"
                        IsEnabled="true"
                        RowHeight="18"
                        SelectedCellsChanged="LEDsData_SelectedCellsChanged"
                        SelectionMode="Single"
                        SelectionUnit="Cell"
                        Style="{StaticResource FlatDataGrid}">
                        <DataGrid.Resources>
                            <Style
                                x:Key="LEDcell"
                                BasedOn="{StaticResource FlatDataGridCell}"
                                TargetType="DataGridCell">
                                <Setter Property="Background" Value="White" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Use}" Value="False">
                                        <Setter Property="Background" Value="#e6e6e6" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                            <Style x:Key="DataGridColumnHeaderCheckbox" TargetType="DataGridColumnHeader">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="{x:Type DataGridColumnHeader}">
                                            <Grid HorizontalAlignment="Stretch" Background="{TemplateBinding Background}">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition />
                                                    <ColumnDefinition />
                                                </Grid.ColumnDefinitions>
                                                <ContentPresenter
                                                    Margin="10,0"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center" />
                                                <CheckBox
                                                    x:Name="waitCheckbox"
                                                    Grid.Column="1"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Checked="waitCheckboxLED_Checked"
                                                    Foreground="White"
                                                    Unchecked="waitCheckboxLED_Unchecked" BorderBrush="Black"/>
                                            </Grid>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Background" Value="#c6c6c6" />
                                <Setter Property="Foreground" Value="Black" />
                                <Setter Property="Height" Value="30" />
                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                <Setter Property="FontWeight" Value="Bold" />
                            </Style>
                        </DataGrid.Resources>
                        <DataGrid.Columns>
                            <DataGridTextColumn
                                Width="60"
                                Binding="{Binding Path=Index}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Index"
                                IsReadOnly="True" />

                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=X}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="X" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=Y}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Y" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=Dir}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Dir" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=ON}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="On" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=OFF}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="OFF" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=Thresh}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Thresh" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=Intens}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Intens"
                                IsReadOnly="True" />
                            <DataGridCheckBoxColumn
                                Width="1*"
                                Binding="{Binding Path=Use, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Use"
                                HeaderStyle="{StaticResource DataGridColumnHeaderCheckbox}" />
                        </DataGrid.Columns>
                    </DataGrid>

                    <StackPanel Grid.Row="1" Margin="5">
                        <Label
                            x:Name="lbLEDvalue"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content=""
                            FontWeight="Bold"
                            Foreground="Black" />
                        <Button
                            x:Name="btGetValue"
                            Click="btGetValue_Click"
                            Content="GetValue" />
                        <Button
                            x:Name="btThresholdCalculate"
                            Click="btThresholdCalculate_Click"
                            Content="Threshold Calculate" />
                    </StackPanel>
                </Grid>
            </TabItem>
            <TabItem
                Width="100"
                Height="40"
                Margin="0"
                Foreground="Black"
                Header="GLEDs"
                Style="{StaticResource FlatTabControl}">
                <Grid Margin="3,3,3,10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="1*" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="180" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Label
                        Grid.Row="0"
                        Grid.ColumnSpan="2"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Top"
                        Content="GLEDs Data"
                        FontSize="12"
                        FontWeight="Bold"
                        Foreground="Black" />
                    <DataGrid
                        x:Name="GLEDsData"
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="5"
                        VerticalAlignment="Top"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        ColumnHeaderHeight="30"
                        ColumnHeaderStyle="{StaticResource FlatDataGridHeaderNomal}"
                        GridLinesVisibility="All"
                        HeadersVisibility="Column"
                        HorizontalScrollBarVisibility="Hidden"
                        IsEnabled="true"
                        RowHeight="18"
                        SelectedCellsChanged="LEDsData_SelectedCellsChanged"
                        SelectionMode="Single"
                        SelectionUnit="Cell"
                        Style="{StaticResource FlatDataGrid}">
                        <DataGrid.Resources>
                            <Style
                                x:Key="LEDcell"
                                BasedOn="{StaticResource FlatDataGridCell}"
                                TargetType="DataGridCell">
                                <Setter Property="Background" Value="White" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Use}" Value="False">
                                        <Setter Property="Background" Value="#e6e6e6" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                            <Style x:Key="DataGridColumnHeaderCheckbox" TargetType="DataGridColumnHeader">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="{x:Type DataGridColumnHeader}">
                                            <Grid HorizontalAlignment="Stretch" Background="{TemplateBinding Background}">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition />
                                                    <ColumnDefinition />
                                                </Grid.ColumnDefinitions>
                                                <ContentPresenter
                                                    Margin="10,0"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center" />
                                                <CheckBox
                                                    x:Name="waitCheckbox"
                                                    Grid.Column="1"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Checked="waitCheckboxGLED_Checked"
                                                    Foreground="White"
                                                    Unchecked="waitCheckboxGLED_Unchecked" BorderBrush="Black" />
                                            </Grid>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Background" Value="#c6c6c6" />
                                <Setter Property="Foreground" Value="Black" />
                                <Setter Property="Height" Value="30" />
                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                <Setter Property="FontWeight" Value="Bold" />
                            </Style>
                        </DataGrid.Resources>
                        <DataGrid.Columns>
                            <DataGridTextColumn
                                Width="60"
                                Binding="{Binding Path=Index}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Index"
                                IsReadOnly="True" />

                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=X}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="X" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=Y}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Y" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=Width}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Width" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=Height}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Height" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=ON}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="On" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=OFF}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="OFF" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=Thresh}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Thresh" />
                            <DataGridTextColumn
                                Width="1*"
                                Binding="{Binding Path=Intens}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Intens"
                                IsReadOnly="True" />
                            <DataGridCheckBoxColumn
                                Width="1*"
                                Binding="{Binding Path=Use, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                CellStyle="{StaticResource LEDcell}"
                                Header="Use"
                                HeaderStyle="{StaticResource DataGridColumnHeaderCheckbox}" />
                        </DataGrid.Columns>
                    </DataGrid>
                    <StackPanel Grid.Row="1" Margin="5">
                        <Label
                            x:Name="lbGLEDvalue"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content=""
                            FontWeight="Bold"
                            Foreground="Black" />
                        <Button
                            x:Name="btGetGLEDValue"
                            Click="btGetGLEDValue_Click"
                            Content="GetValue" />
                        <Button
                            x:Name="btGLEDThresholdCalculate"
                            Click="btGLEDThresholdCalculate_Click"
                            Content="Threshold Calculate" />
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>

        <StackPanel
            Grid.Column="2"
            Margin="20,5"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Orientation="Horizontal">

            <Label
                x:Name="lblModel"
                Grid.Column="1"
                Margin="5,0,0,0"
                Padding="0"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Content="MODEL: "
                FontSize="15"
                FontStyle="Italic"
                FontWeight="DemiBold"
                Foreground="Black" />
            <TextBlock
                x:Name="lbModelName"
                Grid.Column="1"
                Margin="0,0,5,0"
                Padding="0"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                FontSize="16"
                FontStyle="Italic"
                FontWeight="DemiBold"
                Foreground="Black"
                Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" />

            <Button
                x:Name="btOpenModel"
                Width="120"
                Height="30"
                Margin="0,5,0,5"
                Padding="5"
                HorizontalAlignment="Stretch"
                HorizontalContentAlignment="Center"
                Background="{x:Null}"
                BorderThickness="0"
                Click="btOpenModel_Click"
                FontSize="14"
                Foreground="#FF109322"
                Template="{DynamicResource ButtonControlNonHoverEffect}">

                <Grid Margin="0" HorizontalAlignment="Left">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="1*" />
                    </Grid.ColumnDefinitions>
                    <fa:IconImage  Margin="2" Icon="FolderOpen" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="#ffa000"/>

                    <Label
                        Grid.Column="1"
                        Margin="5,0,0,0"
                        Padding="0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Content="Open Model"
                        FontSize="12"
                        FontStretch="UltraExpanded"
                        FontWeight="Bold"
                        Foreground="Black" />
                </Grid>
            </Button>
            <Button
                x:Name="btSaveModel"
                Width="80"
                Height="30"
                Margin="0,5,0,5"
                Padding="5"
                HorizontalAlignment="Stretch"
                HorizontalContentAlignment="Center"
                Background="{x:Null}"
                BorderThickness="0"
                Click="btSaveModel_Click"
                FontSize="14"
                Foreground="#FF109322"
                Template="{DynamicResource ButtonControlNonHoverEffect}">

                <Grid Margin="0" HorizontalAlignment="Left">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="1*" />
                    </Grid.ColumnDefinitions>
                    <fa:IconImage  Margin="2" Icon="Save" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="#ffa000"/>

                    <Label
                        Grid.Column="1"
                        Margin="5,0,0,0"
                        Padding="0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Content="Save"
                        FontSize="12"
                        FontStretch="UltraExpanded"
                        FontWeight="Bold"
                        Foreground="Black" />
                </Grid>
            </Button>
            <Button
                x:Name="btSaveAsModel"
                Width="80"
                Height="30"
                Margin="0,5,0,5"
                Padding="5"
                HorizontalAlignment="Stretch"
                HorizontalContentAlignment="Center"
                Background="{x:Null}"
                BorderThickness="0"
                Click="btSaveAsModel_Click"
                FontSize="14"
                Foreground="#FF109322"
                Template="{DynamicResource ButtonControlNonHoverEffect}">

                <Grid Margin="0" HorizontalAlignment="Left">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />

                    </Grid.ColumnDefinitions>
                    <fa:IconImage  Margin="2" Icon="Save" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="#ffa000"/>
                    <fa:IconImage  Icon="CirclePlus" VerticalAlignment="Top" HorizontalAlignment="Left" Foreground="#ffa000" Margin="16,0,0,0" Height="7" Width="7" Grid.ColumnSpan="2" />
                    <Label
                        Grid.Column="1"
                        Margin="5,0,0,0"
                        Padding="0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Content="Save As"
                        FontSize="12"
                        FontStretch="UltraExpanded"
                        FontWeight="Bold"
                        Foreground="Black" />
                </Grid>
            </Button>
        </StackPanel>
        <Grid Grid.Row="1" Grid.ColumnSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="300" />
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="1*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Border Margin="5,0,5,0" Background="#f6f6f6">
                <ctr:SolenoidControls x:Name="SolenoidControl" />
            </Border>
            <Border
                Grid.Row="1"
                Margin="5,5,5,0"
                Background="#f6f6f6">
                <ctr:RelayControls x:Name="RelayControl" />
            </Border>
            <Border
                Grid.Row="2"
                Margin="5,5,5,5"
                Background="#f6f6f6">
                <ctr:SysIOControl x:Name="SystemControl" Margin="5" />
            </Border>

            <Border
                Grid.Row="0"
                Grid.RowSpan="3"
                Grid.Column="1"
                Margin="5,5,5,5"
                Background="#f6f6f6"
                CornerRadius="0">
                <Grid Margin="3,3,3,3">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="1*" />
                    </Grid.RowDefinitions>

                    <TabControl
                        Grid.Row="2"
                        Margin="5,-30,5,5"
                        Background="White"
                        BorderThickness="0"
                        Foreground="White">

                        <TabItem
                            x:Name="UUT1Com"
                            Background="Black"
                            Header="UUT1"
                            Style="{StaticResource FlatTabControl}" />
                        <TabItem
                            x:Name="UUT2Com"
                            Background="Black"
                            Header="UUT2"
                            Style="{StaticResource FlatTabControl}" />
                        <TabItem
                            x:Name="UUT3Com"
                            Background="Black"
                            Header="UUT3"
                            Style="{StaticResource FlatTabControl}" />
                        <TabItem
                            x:Name="UUT4Com"
                            Background="Black"
                            Header="UUT4"
                            Style="{StaticResource FlatTabControl}" />
                    </TabControl>
                    <Label
                        Margin="0,0,5,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        Content="Communications Log"
                        FontSize="12"
                        FontWeight="Bold"
                        Foreground="Black" />
                    <Label
                        Margin="240,5,200,5"
                        Padding="0"
                        VerticalAlignment="Center"
                        Content="TxDatas:"
                        FontSize="12"
                        FontWeight="Bold"
                        Foreground="Black" />
                    <Label
                        x:Name="lbTxData"
                        Grid.Row="1"
                        Width="433"
                        Margin="294,5,6,0"
                        Padding="0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Content="5A FD FC 12 12 35 33 25 ...."
                        FontSize="12"
                        FontWeight="Bold"
                        Foreground="Black" />
                    <ComboBox
                        x:Name="cbbTxnaming_Manual"
                        Width="280"
                        Margin="0,5,160,5"
                        HorizontalAlignment="Right"
                        SelectionChanged="cbbTxnaming_Mainual_SelectionChanged" />
                    <ComboBox
                        x:Name="cbbUUTconfig_Manual"
                        Width="50"
                        Margin="0,5,100,5"
                        HorizontalAlignment="Right"
                        SelectedIndex="0">
                        <ComboBoxItem Content="P1" />
                        <ComboBoxItem Content="P2" />
                    </ComboBox>
                    <Button
                        Width="50"
                        Margin="5"
                        HorizontalAlignment="Right"
                        Background="#c1c1c1"
                        Click="ButtonSendUUT_Click"
                        Content="Send"
                        FontWeight="Bold"
                        Foreground="Black"
                        Template="{StaticResource ButtonControlNonHoverBackground}" />
                </Grid>
            </Border>
            <Grid
                Grid.RowSpan="3"
                Grid.Column="3"
                Margin="5"
                Background="#f6f6f6">
                <Label
                    Content="Vistion Steps"
                    FontWeight="DemiBold"
                    Foreground="Black" />
                <DataGrid
                    x:Name="VisionStepsGrid"
                    Margin="5,30,5,5"
                    AutoGenerateColumns="False"
                    ColumnHeaderStyle="{StaticResource FlatDataGridHeaderNomal}"
                    GridLinesVisibility="All"
                    ItemsSource="{Binding Steps}"
                    SelectionChanged="VisionStepsGrid_SelectionChanged"
                    Style="{StaticResource FlatDataGrid}">
                    <DataGrid.RowStyle>
                        <Style TargetType="DataGridRow">
                            <Setter Property="Height" Value="0" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding CMD}" Value="FND">
                                    <Setter Property="Height" Value="18" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding CMD}" Value="LCD">
                                    <Setter Property="Height" Value="18" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding CMD}" Value="LED">
                                    <Setter Property="Height" Value="18" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding CMD}" Value="GLED">
                                    <Setter Property="Height" Value="18" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </DataGrid.RowStyle>
                    <DataGrid.Columns>
                        <DataGridTextColumn
                            Width="0.3*"
                            Binding="{Binding No}"
                            CellStyle="{StaticResource FlatVTMCellConstance}"
                            Header="No"
                            IsReadOnly="True" />
                        <DataGridTextColumn
                            Width="1*"
                            Binding="{Binding TestContent}"
                            CellStyle="{StaticResource FlatVTMCell}"
                            Header="Content" />
                        <DataGridTextColumn
                            Width="0.3*"
                            Binding="{Binding CMD}"
                            CellStyle="{StaticResource FlatVTMCellCMD}"
                            Header="CMD"
                            IsReadOnly="True" />
                        <DataGridTextColumn
                            Width="1*"
                            Binding="{Binding Oper}"
                            CellStyle="{StaticResource VTMDataGridCellOper}"
                            Header="Condition1" />
                        <DataGridTextColumn
                            Width="1*"
                            Binding="{Binding Condition2}"
                            CellStyle="{StaticResource VTMDataGridCellCondition2}"
                            Header="Oper" />
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Grid>
        <Label
            x:Name="saveLabel"
            Grid.RowSpan="10"
            Grid.ColumnSpan="10"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            HorizontalContentAlignment="Center"
            VerticalContentAlignment="Center"
            Background="#AF000000"
            Content="Saved!"
            FontSize="50"
            FontWeight="Bold"
            Foreground="White"
            Visibility="Hidden" />
    </Grid>
</Page>