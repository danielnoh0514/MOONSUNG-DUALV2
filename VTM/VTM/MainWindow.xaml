<Window
    x:Class="VTM.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cc="clr-namespace:HVT.Controls;assembly=HVT.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:VTM"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
    Title="DUAL FUNCTION TESTER"
    Width="1920"
    Height="1080"
    MaxHeight="1100"
    AllowsTransparency="True"
    Background="Black"
    BorderThickness="0"
    Loaded="Window_Loaded"
    ResizeMode="CanResize"
    SnapsToDevicePixels="True"
    SourceInitialized="window_SourceInitialized"
    WindowState="Maximized"
    WindowStyle="None"
    mc:Ignorable="d">


    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/CSS/FlatStyle.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid Margin="6">
        <Grid Background="White">
            <Grid.RowDefinitions>
                <RowDefinition Height="40" />
                <RowDefinition />
                <RowDefinition Height="30" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>

            <!--  Title  -->
            <Grid
                x:Name="TittleBar"
                Grid.Column="1"
                Margin="0"
                Background="#e6e6e6"
                MouseDown="Window_MouseDown">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*" />
                    <ColumnDefinition Width="35" />
                    <ColumnDefinition Width="35" />
                    <ColumnDefinition Width="35" />
                </Grid.ColumnDefinitions>
                <DockPanel MouseDown="Window_MouseDown">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock
                          Margin="10,6,0,6"
                          HorizontalAlignment="Left"
                          VerticalAlignment="Center"
                          FontSize="24"
                          FontWeight="DemiBold"
                          Foreground="Black"
                          SnapsToDevicePixels="True"
                          Text="Dual Function Tester - T.N.G TECH" />

                        <!--<TextBlock
                            Margin="300,6,0,6"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            FontSize="24"
                            FontWeight="DemiBold"
                            Foreground="Black"
                            SnapsToDevicePixels="True"
                            Text="{Binding System.System_Board.MachineIO.MainUP }" />-->
                    </StackPanel>

                </DockPanel>

                <Button
                    x:Name="btCloseWindow"
                    Grid.Column="3"
                    Background ="#000000ff"
                    BorderThickness="0"
                    Click="btCloseWindow_Click"
                    Foreground="{x:Null}"
                    Template="{DynamicResource ButtonControlNonHoverBackground}">
                    <Button.Content>
                        <TextBlock  Foreground="Black" FontSize="25"> ✕</TextBlock>
                    </Button.Content>
                </Button>
                <Button
                    x:Name="btMaximizeWindow"
                    Grid.Column="2"
                    BorderThickness="0"
                    Background ="#000000ff"
                    Click="btMaximizeWindow_Click"
                    Foreground="{x:Null}"
                    Template="{DynamicResource ButtonControlNonHoverBackground}">

                    <Button.Content>
                        <TextBlock  Foreground="Black" FontSize="25" VerticalAlignment="Stretch" > 🗖</TextBlock>
                    </Button.Content>
                </Button>
                <Button
                    x:Name="btMinimizeWindow"
                    Grid.Column="1"
                    Background ="#000000ff"
                    BorderThickness="0"
                    Click="btMinimizeWindow_Click"
                    Foreground="{x:Null}"                    
                    Template="{DynamicResource ButtonControlNonHoverBackground}">

                    <Button.Content >
                        <TextBlock  Foreground="Black" FontSize="25">🗕</TextBlock>
                    </Button.Content>
                </Button>
            </Grid>

            <!--  Main window  -->
            <!--  Menu Bar  -->
            <StackPanel
                x:Name="MenuPanel"
                Grid.Row="0"
                Grid.RowSpan="3"

                Width="50"
                d:Width="130"
                Background="#003a71">
                <!--<StackPanel.Triggers>
                    <EventTrigger RoutedEvent="FrameworkElement.MouseEnter">
                        <BeginStoryboard>
                            <Storyboard AutoReverse="False">
                                <DoubleAnimation To="130"
                                            AccelerationRatio="0.9" SpeedRatio="4"
                                            Storyboard.TargetName="MenuPanel"
                                            Storyboard.TargetProperty="Width" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>

                    <EventTrigger RoutedEvent="FrameworkElement.MouseLeave">
                        <BeginStoryboard>
                            <Storyboard AutoReverse="False">
                                <DoubleAnimation To="50"
                                            AccelerationRatio="0.9" SpeedRatio="4"
                                            Storyboard.TargetName="MenuPanel"
                                            Storyboard.TargetProperty="Width" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </StackPanel.Triggers>-->

                <Image
                    Width="30"
                    Margin="10,10,10,10"
                    HorizontalAlignment="Left"
                    Source="img/TNG Logo.png"
                    Stretch="Uniform" />

                <Button
                    x:Name="btOpenModel"
                    Height="40"
                    Margin="0,15,0,5"
                    Padding="5"
                    HorizontalAlignment="Stretch"
                    HorizontalContentAlignment="Left"
                    Background="{x:Null}"
                    BorderThickness="0"
                    Click="btOpenModel_Click"
                    FontSize="14"
                    Foreground="#FF109322"
                    Template="{DynamicResource ButtonControlNonHoverEffect}">

                    <Grid Margin="0" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <fa:IconImage  Margin="2" Icon="FolderOpen" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="White"/>

                        <Label
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Padding="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content="Open model"
                            FontSize="12"
                            FontWeight="Light"
                            Foreground="White" />
                    </Grid>
                </Button>
                <Button
                    x:Name="btLastOpenModels"
                    Width="30"
                    Height="15"
                    Margin="0,0,0,0"
                    Padding="5"
                    HorizontalAlignment="Center"
                    BorderThickness="1"
                    Content=""
                    FontSize="14"
                    FontWeight="Bold"
                    Foreground="#FF109322"
                    ToolTip="OpenModel">
                    <Button.Background>
                        <ImageBrush ImageSource="/img/downward-arrow.png" Stretch="Uniform" />
                    </Button.Background>
                    <Button.Effect>
                        <DropShadowEffect
                            BlurRadius="7"
                            ShadowDepth="0"
                            Color="White" />
                    </Button.Effect>
                    <Button.BorderBrush>
                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                            <LinearGradientBrush.RelativeTransform>
                                <TransformGroup>
                                    <ScaleTransform CenterX="0.5" CenterY="0.5" />
                                    <SkewTransform CenterX="0.5" CenterY="0.5" />
                                    <RotateTransform Angle="90" CenterX="0.5" CenterY="0.5" />
                                    <TranslateTransform />
                                </TransformGroup>
                            </LinearGradientBrush.RelativeTransform>
                            <GradientStop Color="#FF3E3E3E" />
                            <GradientStop Offset="0.525" Color="White" />
                            <GradientStop Offset="1" Color="#FF3E3E3E" />
                        </LinearGradientBrush>
                    </Button.BorderBrush>
                </Button>

                <ToggleButton
                    x:Name="btAutoPage"
                    Margin="0,20,0,0"
                    Padding="5"
                    HorizontalAlignment="Stretch"
                    HorizontalContentAlignment="Left"
                    BorderThickness="0"
                    Click="btSelectPage_Click"
                    FontSize="14"
                    Foreground="#FF109322"
                    Template="{StaticResource ToggleButton}">
                    <Grid Margin="0" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <fa:IconImage  Margin="2" Icon="Display" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="White"/>

                        <Label
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Padding="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content="Auto"
                            FontSize="12"
                            Foreground="WhiteSmoke" />
                    </Grid>
                </ToggleButton>

                <ToggleButton
                    x:Name="btManualPage"
                    Padding="5"
                    HorizontalAlignment="Stretch"
                    HorizontalContentAlignment="Left"
                    BorderThickness="0"
                    Click="btSelectPage_Click"
                    FontSize="14"
                    Foreground="#FF109322"
                    Template="{StaticResource ToggleButton}">
                    <Grid Margin="0" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>

                        <fa:IconImage  Margin="2" Icon="ComputerMouse" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="White"/>

                        <Label
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Padding="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content="Manual"
                            FontSize="12"
                            Foreground="WhiteSmoke" />
                    </Grid>
                </ToggleButton>

                <ToggleButton
                    x:Name="btModelPage"
                    Padding="5"
                    HorizontalAlignment="Stretch"
                    HorizontalContentAlignment="Left"
                    BorderThickness="0"
                    Click="btSelectPage_Click"
                    FontSize="14"
                    Foreground="#FF109322"
                    Template="{StaticResource ToggleButton}">
                    <Grid Margin="0" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <fa:IconImage  Margin="2" Icon="Edit" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="White"/>

                        <Label
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Padding="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content="Model Edit"
                            FontSize="12"
                            Foreground="WhiteSmoke" />
                    </Grid>
                </ToggleButton>

                <ToggleButton
                    x:Name="btVisionPage"
                    Padding="5"
                    HorizontalAlignment="Stretch"
                    HorizontalContentAlignment="Left"
                    BorderThickness="0"
                    Click="btSelectPage_Click"
                    FontSize="14"
                    Foreground="#FF109322"
                    Template="{StaticResource ToggleButton}">
                    <Grid Margin="0" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <fa:IconImage  Margin="2" Icon="EyeLowVision" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="White"/>

                        <Label
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Padding="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content="Model Vision"
                            FontSize="12"
                            Foreground="WhiteSmoke" />
                    </Grid>
                </ToggleButton>
                <ToggleButton
                    x:Name="btSettingPage"
                    Padding="5"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Bottom"
                    HorizontalContentAlignment="Left"
                    BorderThickness="0"
                    Click="btSelectPage_Click"
                    FontSize="14"
                    Foreground="#FF109322"
                    Template="{StaticResource ToggleButton}">
                    <Grid Margin="0" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <fa:IconImage  Margin="2" Icon="Gear" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="White"/>

                        <Label
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Padding="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content="Setting"
                            FontSize="12"
                            Foreground="WhiteSmoke" />
                    </Grid>
                </ToggleButton>
            </StackPanel>

            <StackPanel
                Grid.Row="1"
                Width="50"
                Margin="0,0,0,20"
                VerticalAlignment="Bottom">
                <Button
                    x:Name="btReportPage"
                    Height="40"
                    Padding="5"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Bottom"
                    HorizontalContentAlignment="Left"
                    Background="{x:Null}"
                    BorderThickness="0"
                    Click="btReportPage_Click"
                    FontSize="14"
                    Foreground="#FF109322"
                    Template="{StaticResource ButtonControlNonHoverEffect}">
                    <Grid Margin="0" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>

                        <Image
                            Margin="2"
                            Source=" img/database.png"
                            Stretch="Uniform" />

                        <Label
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Padding="0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Content="Report"
                            FontSize="12"
                            Foreground="WhiteSmoke" />
                    </Grid>
                </Button>
            </StackPanel>
            <!--  Pages  -->
            <Frame
                x:Name="AutoPageHolder"
                Grid.Row="1"
                Grid.Column="1"
                Margin="5,5,5,5"
                JournalOwnership="UsesParentJournal"
                Navigated="AutoPageHolder_Navigated" />
            <Frame
                x:Name="ManualPageHolder"
                Grid.Row="1"
                Grid.Column="1"
                Margin="5,5,5,5"
                JournalOwnership="UsesParentJournal"
                Visibility="Hidden" />
            <Frame
                x:Name="ModelPageHolder"
                Grid.Row="1"
                Grid.Column="1"
                Margin="5,5,5,5"
                JournalOwnership="UsesParentJournal"
                Visibility="Hidden" />
            <Frame
                x:Name="VisionPageHolder"
                Grid.Row="1"
                Grid.Column="1"
                Margin="5,5,5,5"
                JournalOwnership="UsesParentJournal"
                Visibility="Hidden" />
            <Frame
                x:Name="SettingPageHolder"
                Grid.Row="1"
                Grid.Column="1"
                Margin="5,5,5,5"
                JournalOwnership="UsesParentJournal"
                Visibility="Hidden" />

            <!--  Status Bar  -->
            <DockPanel
                Grid.Row="3"
                Grid.Column="2"
                Grid.ColumnSpan="2"
                Height="30"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Bottom"
                Background="#e6e6e6">
                <StackPanel
                    DockPanel.Dock="Left"
                    x:Name="stackpanelComunication"
                    VerticalAlignment="Stretch"                 
                    Orientation="Horizontal">
                    <Button
                        x:Name="btCheckCommunications"
                        Width="120"
                        Margin="0,0,20,0"
                        BorderThickness="1"
                        Click="btCheckCommunications_Click"
                        Content="Check Connections"
                        Foreground="Black"
                        IsEnabledChanged="btCheckCommunications_IsEnabledChanged"
                        Template="{StaticResource ButtonControlNonHoverEffect}" />
                </StackPanel>
                <!--<StackPanel VerticalAlignment="Center" Orientation="Horizontal" Margin="10 0 0 0">
                    <Button Cursor="Hand" BorderThickness="0" Click="btNetToggle_Click">
                        <Border  BorderThickness="0" Width="20" Height="20" Background="{Binding AppSetting.Communication.Network.StatusColor}">
                            <fa:IconImage Margin="2 0" Icon="Ethernet" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="White" Width="15" Height="15"/>
                        </Border>
                    </Button>
                    <TextBlock Margin="2 0" VerticalAlignment="Center" FontWeight="Bold" Text="{Binding AppSetting.Communication.Network.Role}"/>
                    <TextBlock Margin="2 0" VerticalAlignment="Center" Text="{Binding AppSetting.Communication.Network.IP}"/>
                    <TextBlock VerticalAlignment="Center" Text=":"/>
                    <TextBlock Margin="2 0" VerticalAlignment="Center" Text="{Binding AppSetting.Communication.Network.Port}"/>



                </StackPanel>-->
                <StackPanel   HorizontalAlignment="Center" VerticalAlignment="Center" Margin="10 0"  >
                    <fa:IconImage    Icon="ArrowsUpDown" VerticalAlignment="Center" HorizontalAlignment="Center"  Foreground="{Binding System.System_Board.MachineIO.ColorMainUp}"   Width="10"/>
                </StackPanel>
          

                <StackPanel   HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5 0" >
                    <fa:IconImage   Icon="ArrowCircleDown" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="{Binding System.System_Board.MachineIO.Color_SS_DOWN}" Width="20"/>

                </StackPanel>


                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right"  >


                    <TextBlock
                      Height="Auto"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Center"
                      Background="{x:Null}"
                      FontWeight="Bold"
                      Foreground="Black"
                      Text="Version 2.6" />

                    <TextBlock
                    x:Name="tbDateTime"
                    Height="Auto"
                    Margin="0,4,20,0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Background="{x:Null}"
                    FontWeight="Bold"
                    Foreground="Black" />

                    <Label
                    x:Name="lbDateTime"
                    Height="Auto"
                    Margin="0,0,20,0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Background="{x:Null}"
                    ContentStringFormat="Date time: {0}"
                    FontWeight="Bold"
                    Foreground="Black" />
                    <Label />

                </StackPanel>

                <TextBlock
                   DockPanel.Dock="Left"
                   Width="Auto" 
                   Height="Auto"
                   Margin="0,0,20,0"
                   HorizontalAlignment="Stretch"
                   VerticalAlignment="Center"
                   Background="{x:Null}"
                   Foreground="Black"
                   FontWeight="Bold"
                   Text="" />
            </DockPanel>
        </Grid>
        <Grid
            x:Name="pnLoading"
            Margin="50,30,0,30"
            Background="#71000000"
            Visibility="Collapsed">
            <Label
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Content="Loading..."
                FontSize="30"
                Foreground="WhiteSmoke" />
        </Grid>
    </Grid>
</Window>