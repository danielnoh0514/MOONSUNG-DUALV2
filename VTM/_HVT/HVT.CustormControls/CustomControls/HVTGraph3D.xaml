<UserControl x:Class="CustomControls.HVTGraph3D"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CustomControls"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid Margin="5" Background="#1E1E1E">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="50"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>

        <ScrollViewer x:Name="xScroll" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden" Margin="0,0,0,-10">
            <Canvas x:Name="xAxis" Width="40" Margin="0,0,0,0" Height="1010" RenderTransformOrigin="0.5,0.5">
                <Canvas.LayoutTransform>
                    <TransformGroup>
                        <ScaleTransform ScaleY="1"/>
                        <SkewTransform/>
                        <RotateTransform/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Canvas.LayoutTransform>
                <Line X1="39" Y1="0" X2="39" Y2="1000" Stroke="White"/>
            </Canvas>
        </ScrollViewer>
        <ScrollViewer x:Name="yScroll" Grid.Row="1" Grid.Column="1"  Margin="-10,0,0,0"
                      HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden">
            <Canvas x:Name="yAxis"  Width="1000" Height="40">
                <Line X1="0" Y1="1" X2="1000" Y2="1" Stroke="White"/>
            </Canvas>
        </ScrollViewer>

        <ScrollViewer x:Name="mainScroll" Grid.Column="1" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden"
                      ScrollChanged="ScrollViewer_ScrollChanged" PanningMode="VerticalOnly" VerticalContentAlignment="Top">
            <Grid x:Name="graphGrid" PreviewMouseMove="GraphCanvasMouse_MouseMove">
                <Canvas x:Name="graphCanvasBacground" Background="#01000000" Width="1000" Height="1000">
                    <Canvas.LayoutTransform>
                        <TransformGroup>
                            <ScaleTransform ScaleY="-1"/>
                            <SkewTransform/>
                            <RotateTransform/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </Canvas.LayoutTransform>
                    <Polygon Fill="#1E1E1E">
                        <Polygon.Points>
                            <Point X="1000" Y="0"/>
                            <Point X="1000" Y="50"/>
                            <Point X="30" Y="50"/>
                            <Point X="0" Y="0"/>
                        </Polygon.Points>
                    </Polygon>
                    <Polygon Fill="Black">
                        <Polygon.Points>
                            <Point X="0" Y="1000"/>
                            <Point X="30" Y="1000"/>
                            <Point X="30" Y="50"/>
                            <Point X="0" Y="0"/>
                        </Polygon.Points>
                    </Polygon>
                    <Polygon Fill="#060606">
                        <Polygon.Points>
                            <Point X="1000" Y="50"/>
                            <Point X="1000" Y="1000"/>
                            <Point X="30" Y="1000"/>
                            <Point X="30" Y="50"/>
                        </Polygon.Points>
                    </Polygon>
                </Canvas>
                <Canvas x:Name="graphCanvasMouse" Width="1000" Height="1000">
                    <Canvas.LayoutTransform>
                        <TransformGroup>
                            <ScaleTransform ScaleY="-1"/>
                            <SkewTransform/>
                            <RotateTransform/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </Canvas.LayoutTransform>

                    <Line x:Name="MouseVertical" X1="315" Y1="25" X2="315" Y2="1000" StrokeDashArray="3,1" Stroke="White" StrokeThickness="1"/>
                    <Line x:Name="MouseHorizontal" X1="15" Y1="125" X2="1000" Y2="125"  StrokeDashArray="3,1" Stroke="White"  StrokeThickness="1"/>
                    <Line x:Name="MouseZ" X1="300" Y1="100" X2="330" Y2="150" StrokeDashArray="3,1"  Stroke="White" StrokeThickness="1"/>

                </Canvas>
                <Canvas x:Name="graphCanvas" Width="1000" Height="1000" HorizontalAlignment="Left" RenderTransformOrigin="0.5,0.5">
                    <Canvas.LayoutTransform>
                        <TransformGroup>
                            <ScaleTransform ScaleY="-1"/>
                            <SkewTransform/>
                            <RotateTransform/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </Canvas.LayoutTransform>


                    <Polyline x:Name="B_graph"  StrokeThickness="2">
                        <Polyline.Fill>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <GradientStop Color="White" Offset="1"/>
                                <GradientStop Color="LightGreen" Offset="0.9"/>
                                <GradientStop Color="#0F00FF00" Offset="0.01"/>
                                <GradientStop Color="LightGreen" Offset="1"/>
                                <GradientStop Color="White" Offset="0"/>
                            </LinearGradientBrush>
                        </Polyline.Fill>
                        <Polyline.Style>
                            <Style TargetType="Polyline">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=A_graph, Path=IsMouseOver}" Value="True">
                                        <Setter Property="Opacity" Value="0"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Polyline.Style>
                    </Polyline>

                    <Polyline x:Name="A_graph" StrokeThickness="2">
                        <Polyline.Fill>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <GradientStop Color="White" Offset="1"/>
                                <GradientStop Color="Yellow" Offset="0.9"/>
                                <GradientStop Color="#0FFFFF00" Offset="0.01"/>
                                <GradientStop Color="Yellow" Offset="1"/>
                                <GradientStop Color="White" Offset="0"/>
                            </LinearGradientBrush>
                        </Polyline.Fill>
                        <Polyline.Style>
                            <Style TargetType="Polyline">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=B_graph, Path=IsMouseOver}" Value="True">
                                        <Setter Property="Opacity" Value="0"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Polyline.Style>
                    </Polyline>


                </Canvas >

            </Grid>
        </ScrollViewer>
        <Label Width="40" Height="20" Background="#1E1E1E" VerticalAlignment="Top"/>
        <Label Content="{Binding GraphName}" Grid.ColumnSpan="2" Grid.Row="2" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Top"/>
    </Grid>
</UserControl>
