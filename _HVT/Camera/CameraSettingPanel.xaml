<UserControl
    x:Class="Camera.CameraSettingPanel"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Camera"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DataContext="{d:DesignInstance Type=local:CameraSetting}"
    mc:Ignorable="d">
    <UserControl.Resources>
        <Style x:Key="ContentLabelStyle" TargetType="Label">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>
        <Style x:Key="SliderStyle" TargetType="Slider">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
        <ControlTemplate x:Key="ToggleButton" TargetType="{x:Type ToggleButton}">
            <Border
                x:Name="border"
                Background="#01000000"
                BorderBrush="{TemplateBinding BorderBrush}"
                BorderThickness="0"
                CornerRadius="0">
                <Grid>
                    <Ellipse
                        x:Name="backgroundEllipse"
                        Width="0"
                        Height="0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Fill="Black" />
                    <ContentPresenter
                        x:Name="contentPresenter"
                        Margin="{TemplateBinding Padding}"
                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                        Content="{TemplateBinding Content}"
                        ContentStringFormat="{TemplateBinding ContentStringFormat}"
                        ContentTemplate="{TemplateBinding ContentTemplate}"
                        Cursor="Hand"
                        Focusable="False"
                        RecognizesAccessKey="True"
                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                </Grid>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsPressed" Value="True">
                    <Setter TargetName="border" Property="Background" Value="{x:Null}" />
                    <Setter TargetName="border" Property="BorderBrush" Value="{x:Null}" />
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="border" Property="Background" Value="#8F808080" />
                </Trigger>
                <EventTrigger RoutedEvent="ToggleButton.Checked">
                    <EventTrigger.Actions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation
                                    DecelerationRatio="0.1"
                                    SpeedRatio="5"
                                    Storyboard.TargetName="backgroundEllipse"
                                    Storyboard.TargetProperty="Width"
                                    From="0"
                                    To="170"
                                    Duration="0:0:1" />
                                <DoubleAnimation
                                    AccelerationRatio="0.1"
                                    SpeedRatio="5"
                                    Storyboard.TargetName="backgroundEllipse"
                                    Storyboard.TargetProperty="Height"
                                    From="0"
                                    To="100"
                                    Duration="0:0:1" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger.Actions>
                </EventTrigger>
                <EventTrigger RoutedEvent="ToggleButton.Unchecked">
                    <EventTrigger.Actions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation
                                    SpeedRatio="5"
                                    Storyboard.TargetName="backgroundEllipse"
                                    Storyboard.TargetProperty="Width"
                                    To="0"
                                    Duration="0:0:1" />
                                <DoubleAnimation
                                    SpeedRatio="5"
                                    Storyboard.TargetName="backgroundEllipse"
                                    Storyboard.TargetProperty="Height"
                                    To="0"
                                    Duration="0:0:1" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger.Actions>
                </EventTrigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter TargetName="border" Property="Background" Value="#FFF4F4F4" />
                    <Setter TargetName="border" Property="BorderBrush" Value="#FFADB2B5" />
                    <Setter Property="Foreground" Value="#FF838383" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
    </UserControl.Resources>
    <Grid>
        <ToggleButton
            x:Name="settingButton"
            Width="20"
            Height="20"
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom"
            Template="{StaticResource ToggleButton}">
            <Image
                Margin="2"
                Source="settings.png"
                Stretch="Uniform" />
        </ToggleButton>
        <Grid
            Width="300"
            Height="300"
            Background="#6F000000">
            <Grid.Style>
                <Style TargetType="Grid">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding ElementName=settingButton, Path=IsChecked}" Value="False">
                            <Setter Property="Visibility" Value="Collapsed" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding ElementName=settingButton, Path=IsChecked}" Value="True">
                            <Setter Property="Visibility" Value="Collapsed" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Grid.Style>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="1*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>

            <Label
                Grid.Row="0"
                Content="Exposure"
                Style="{StaticResource ContentLabelStyle}" />
            <Label
                Grid.Row="1"
                Content="Brightness"
                Style="{StaticResource ContentLabelStyle}" />
            <Label
                Grid.Row="2"
                Content="Contrast"
                Style="{StaticResource ContentLabelStyle}" />
            <Label
                Grid.Row="3"
                Content="Focus"
                Style="{StaticResource ContentLabelStyle}" />
            <Label
                Grid.Row="4"
                Content="White"
                Style="{StaticResource ContentLabelStyle}" />
            <Label
                Grid.Row="5"
                Content="Sharpness"
                Style="{StaticResource ContentLabelStyle}" />
            <Label
                Grid.Row="6"
                Content="Zoom"
                Style="{StaticResource ContentLabelStyle}" />
            <Label
                Grid.Row="7"
                Content="Satuation"
                Style="{StaticResource ContentLabelStyle}" />

            <Slider
                x:Name="slExporsure"
                Grid.Row="0"
                Grid.Column="1"
                Maximum="0"
                Minimum="-10"
                SmallChange="1"
                Style="{StaticResource SliderStyle}"
                ValueChanged="CameraSetting_ValueChanged"
                Value="{Binding Exposure, Mode=OneTime}" />
            <Slider
                x:Name="slBrightness"
                Grid.Row="1"
                Grid.Column="1"
                Maximum="255"
                Minimum="0"
                SmallChange="1"
                Style="{StaticResource SliderStyle}"
                ValueChanged="CameraSetting_ValueChanged"
                Value="{Binding Brightness, Mode=OneTime}" />
            <Slider
                x:Name="slContrast"
                Grid.Row="2"
                Grid.Column="1"
                Maximum="255"
                Minimum="0"
                SmallChange="1"
                Style="{StaticResource SliderStyle}"
                ValueChanged="CameraSetting_ValueChanged"
                Value="{Binding Contrast, Mode=OneTime}" />
            <Slider
                x:Name="slFocus"
                Grid.Row="3"
                Grid.Column="1"
                Maximum="250"
                Minimum="0"
                SmallChange="1"
                Style="{StaticResource SliderStyle}"
                ValueChanged="CameraSetting_ValueChanged"
                Value="{Binding Focus, Mode=OneTime}" />
            <Slider
                x:Name="slWhite"
                Grid.Row="4"
                Grid.Column="1"
                Maximum="6500"
                Minimum="2000"
                SmallChange="1"
                Style="{StaticResource SliderStyle}"
                ValueChanged="CameraSetting_ValueChanged"
                Value="{Binding WBTemperature, Mode=OneTime}" />
            <Slider
                x:Name="slSharpness"
                Grid.Row="5"
                Grid.Column="1"
                Maximum="255"
                Minimum="0"
                SmallChange="1"
                Style="{StaticResource SliderStyle}"
                ValueChanged="CameraSetting_ValueChanged"
                Value="{Binding Sharpness, Mode=OneTime}" />
            <Slider
                x:Name="slZoom"
                Grid.Row="6"
                Grid.Column="1"
                Maximum="500"
                Minimum="100"
                Style="{StaticResource SliderStyle}"
                TickFrequency="1000"
                ValueChanged="CameraSetting_ValueChanged"
                Value="{Binding Zoom, Mode=OneTime}" />
            <Slider
                x:Name="slSatuation"
                Grid.Row="7"
                Grid.Column="1"
                Maximum="255"
                Minimum="0"
                Style="{StaticResource SliderStyle}"
                TickFrequency="1000"
                ValueChanged="CameraSetting_ValueChanged"
                Value="{Binding Saturation, Mode=OneTime}" />
        </Grid>
    </Grid>
</UserControl>